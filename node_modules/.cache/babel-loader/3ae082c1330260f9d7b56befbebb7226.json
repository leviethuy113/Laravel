{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\react-basic-PT14311\\\\src\\\\pages\\\\layouts\\\\LayoutAdmin.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Sidebar from \"../../components/Admin/Sidebar\";\nimport Topbar from \"../../components/Admin/TopBar\";\nimport Footer from \"../../components/Admin/Footer\";\nimport Products from \"../../pages/views/Admin/Products\";\nimport Categories from \"../../pages/views/Admin/Categories\";\nimport DetailProduct from \"../../pages/views/Admin/DetailProduct\";\nimport AddForm from \"../../pages/views/Admin/AddForm\";\nimport EditProduct from \"../../pages/views/Admin/EditProduct\";\nimport \"../../assets/css/admin/sb-admin-2.min.scss\";\nimport \"../../assets/css/admin/main.scss\";\nimport axios from \"axios\";\nimport productApi from \"../../api/productApi\";\nimport cateApi from \"../../api/cateApi\";\nimport catepostApi from \"../../api/catepostApi\";\nimport { BrowserRouter as Router, Switch, Route, Link, useParams } from \"react-router-dom\";\nimport AddCategory from \"../views/Admin/AddCategory\";\nimport EditCategory from \"../views/Admin/EditCategory\";\nimport CatePost from \"../../pages/views/Admin/CatePost\";\nimport AddCatePost from \"../../pages/views/Admin/AddCatePost\"; //post\n\nimport Posts from \"../../pages/views/Admin/Posts\";\nimport PostsApi from \"../../api/PostsApi\";\nimport AddPosts from \"../../pages/views/Admin/AddPosts.js\";\nimport EditPosts from \"../../pages/views/Admin/EditPosts\"; //cate posst\n\nimport EditCatePost from \"../views/Admin/EditCatePost\";\nexport default (({\n  children\n}) => {\n  const [products, setproducts] = useState([]);\n  const [categories, setcategories] = useState([]);\n  const [cateposts, setcateposts] = useState([]);\n  const [posts, setposts] = useState([]);\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const {\n          data\n        } = await productApi.getAll();\n        setproducts(data);\n      } catch (error) {}\n    };\n\n    getProducts();\n  }, []);\n  useEffect(() => {\n    const getCategories = async () => {\n      try {\n        const {\n          data\n        } = await cateApi.getAll();\n        setcategories(data);\n      } catch (error) {}\n    };\n\n    getCategories();\n  }, []);\n  useEffect(() => {\n    const getCateposts = async () => {\n      try {\n        const {\n          data\n        } = await catepostApi.getAll();\n        setcateposts(data);\n      } catch (error) {}\n    };\n\n    getCateposts();\n  }, []);\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const {\n          data\n        } = await productApi.getAll();\n        setproducts(data);\n      } catch (error) {}\n    };\n\n    getProducts();\n  }, []);\n  useEffect(() => {\n    const getPosts = async () => {\n      try {\n        const {\n          data\n        } = await PostsApi.getAll();\n        setposts(data);\n      } catch (error) {}\n    };\n\n    getPosts();\n  }, []);\n\n  const removeProduct = id => {\n    console.log(id);\n    const newData = products.filter(product => product.id !== id);\n    console.log(newData);\n    setproducts(newData);\n    productApi.remove(id);\n    alert(\"Bạn chắc chắn muốn xóa sản phẩm này\");\n  };\n\n  const onHandleAdd = product => {\n    console.log(product);\n    setproducts([...products, product]);\n    productApi.create(product);\n  };\n\n  const onHandleUpdate = updateProduct => {\n    const newProducts = products.map(product => product.id === updateProduct.id ? updateProduct : product // Nếu product.id bằng với id của sản phẩm vừa chỉnh sửa thì trả về mảng có object mới\n    );\n    setproducts(newProducts);\n    productApi.update(updateProduct.id, updateProduct); //console.log(updateProduct.id);\n  };\n\n  const onUpdateCategory = updateCategory => {\n    const newCategorys = categories.map(category => category.id === updateCategory.id ? updateCategory : category // Nếu product.id bằng với id của sản phẩm vừa chỉnh sửa thì trả về mảng có object mới\n    );\n    setcategories(newCategorys);\n    cateApi.update(updateCategory.id, updateCategory); //console.log(updateProduct.id);\n  };\n\n  const onHandleAddCategory = category => {\n    console.log(category);\n    setcategories([...categories, category]);\n    cateApi.create(category);\n    console.log(category);\n  };\n\n  const removeCategory = id => {\n    console.log(id);\n    const newData = categories.filter(cate => cate.id !== id);\n    console.log(newData);\n    setcategories(newData);\n    cateApi.remove(id);\n    alert(\"Xóa danh mục thành công\");\n  }; // danh mục bài viết\n\n\n  const Addcatepost = catepost => {\n    setcateposts([...cateposts, catepost]);\n    catepostApi.create(catepost);\n  };\n\n  const removeCatepost = id => {\n    const newData = cateposts.filter(catepost => catepost.id !== id);\n    setcateposts(newData);\n    catepostApi.remove(id);\n    alert(\"Xóa danh mục bài viết thành công\");\n  };\n\n  const onUpdateCatePost = updateCatePost => {\n    const newCatePost = cateposts.map(catepost => catepost.id === updateCatePost.id ? updateCatePost : catepost // Nếu product.id bằng với id của sản phẩm vừa chỉnh sửa thì trả về mảng có object mới\n    );\n    setcateposts(newCatePost);\n    catepostApi.update(updateCatePost.id, updateCatePost);\n  }; //bai viet\n\n\n  const removePosts = id => {\n    console.log(id);\n    const newData = posts.filter(posts => posts.id !== id);\n    console.log(newData);\n    setposts(newData);\n    PostsApi.remove(id);\n    alert(\"Bạn chắc chắn muốn xóa sản phẩm này\");\n  };\n\n  const Addposts = post => {\n    console.log(post);\n    setposts([...posts, post]);\n    PostsApi.create(post);\n    console.log(PostsApi);\n  };\n\n  const onUpdatePosts = updatePosts => {\n    const newPosts = posts.map(post => post.id === updatePosts.id ? updatePosts : post // Nếu product.id bằng với id của sản phẩm vừa chỉnh sửa thì trả về mảng có object mới\n    );\n    setposts(newPosts);\n    PostsApi.update(updateCatePost.id, updateCatePost);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"content-wrapper\",\n    className: \"d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Topbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/admin/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 19\n    }\n  }, \"Home page\"), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/categories\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Categories, {\n    categories: categories,\n    onRemove: removeCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Products, {\n    products: products,\n    categories: categories,\n    onRemove: removeProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/add-product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(AddForm, {\n    onAdd: onHandleAdd,\n    categories: categories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/add-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(AddCategory, {\n    onAdd: onHandleAddCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/detail-product/:id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(DetailProduct, {\n    products: products,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/edit-product/:id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(EditProduct, {\n    products: products,\n    onAdd: onHandleUpdate,\n    categories: categories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/edit-category/:id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(EditCategory, {\n    categories: categories,\n    onAdd: onUpdateCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/cate-post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CatePost, {\n    cateposts: cateposts,\n    onRemove: removeCatepost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/add-catepost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(AddCatePost, {\n    onAdd: Addcatepost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/edit-catepost/:id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(EditCatePost, {\n    cateposts: cateposts,\n    onAdd: onUpdateCatePost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/posts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Posts, {\n    posts: posts,\n    onRemove: removePosts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/add-posts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(AddPosts, {\n    onAdd: Addposts,\n    cateposts: cateposts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/edit-posts/:id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(EditPosts, {\n    posts: posts,\n    onAdd: onUpdateCatePost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 21\n    }\n  }))))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }\n  })))));\n});","map":{"version":3,"sources":["C:/Users/Admin/Desktop/react-basic-PT14311/src/pages/layouts/LayoutAdmin.js"],"names":["React","useState","useEffect","Sidebar","Topbar","Footer","Products","Categories","DetailProduct","AddForm","EditProduct","axios","productApi","cateApi","catepostApi","BrowserRouter","Router","Switch","Route","Link","useParams","AddCategory","EditCategory","CatePost","AddCatePost","Posts","PostsApi","AddPosts","EditPosts","EditCatePost","children","products","setproducts","categories","setcategories","cateposts","setcateposts","posts","setposts","getProducts","data","getAll","error","getCategories","getCateposts","getPosts","removeProduct","id","console","log","newData","filter","product","remove","alert","onHandleAdd","create","onHandleUpdate","updateProduct","newProducts","map","update","onUpdateCategory","updateCategory","newCategorys","category","onHandleAddCategory","removeCategory","cate","Addcatepost","catepost","removeCatepost","onUpdateCatePost","updateCatePost","newCatePost","removePosts","Addposts","post","onUpdatePosts","updatePosts","newPosts"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Sidebar from \"../../components/Admin/Sidebar\";\nimport Topbar from \"../../components/Admin/TopBar\";\nimport Footer from \"../../components/Admin/Footer\";\nimport Products from \"../../pages/views/Admin/Products\";\nimport Categories from \"../../pages/views/Admin/Categories\";\nimport DetailProduct from \"../../pages/views/Admin/DetailProduct\";\nimport AddForm from \"../../pages/views/Admin/AddForm\";\nimport EditProduct from \"../../pages/views/Admin/EditProduct\";\nimport \"../../assets/css/admin/sb-admin-2.min.scss\";\nimport \"../../assets/css/admin/main.scss\";\nimport axios from \"axios\";\nimport productApi from \"../../api/productApi\";\nimport cateApi from \"../../api/cateApi\";\nimport catepostApi from \"../../api/catepostApi\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useParams,\n} from \"react-router-dom\";\nimport AddCategory from \"../views/Admin/AddCategory\";\nimport EditCategory from \"../views/Admin/EditCategory\";\nimport CatePost from \"../../pages/views/Admin/CatePost\";\nimport AddCatePost from \"../../pages/views/Admin/AddCatePost\";\n\n//post\nimport Posts from \"../../pages/views/Admin/Posts\";\nimport PostsApi from \"../../api/PostsApi\";\nimport AddPosts from \"../../pages/views/Admin/AddPosts.js\";\nimport EditPosts from \"../../pages/views/Admin/EditPosts\";\n\n//cate posst\nimport EditCatePost from \"../views/Admin/EditCatePost\";\n\nexport default ({ children }) => {\n  const [products, setproducts] = useState([]);\n  const [categories, setcategories] = useState([]);\n  const [cateposts, setcateposts] = useState([]);\n  const [posts, setposts] = useState([]);\n\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const { data } = await productApi.getAll();\n        setproducts(data);\n      } catch (error) {}\n    };\n    getProducts();\n  }, []);\n\n  useEffect(() => {\n    const getCategories = async () => {\n      try {\n        const { data } = await cateApi.getAll();\n        setcategories(data);\n      } catch (error) {}\n    };\n    getCategories();\n  }, []);\n\n  useEffect(() => {\n    const getCateposts = async () => {\n      try {\n        const { data } = await catepostApi.getAll();\n        setcateposts(data);\n      } catch (error) {}\n    };\n    getCateposts();\n  }, []);\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const { data } = await productApi.getAll();\n        setproducts(data);\n      } catch (error) {}\n    };\n    getProducts();\n  }, []);\n\n  useEffect(() => {\n    const getPosts = async () => {\n      try {\n        const { data } = await PostsApi.getAll();\n        setposts(data);\n      } catch (error) {}\n    };\n    getPosts();\n  }, []);\n\n  const removeProduct = (id) => {\n    console.log(id);\n    const newData = products.filter((product) => product.id !== id);\n    console.log(newData);\n    setproducts(newData);\n    productApi.remove(id);\n    alert(\"Bạn chắc chắn muốn xóa sản phẩm này\");\n  };\n\n  const onHandleAdd = (product) => {\n    console.log(product);\n    setproducts([...products, product]);\n    productApi.create(product);\n  };\n\n  const onHandleUpdate = (updateProduct) => {\n    const newProducts = products.map(\n      (product) => (product.id === updateProduct.id ? updateProduct : product) // Nếu product.id bằng với id của sản phẩm vừa chỉnh sửa thì trả về mảng có object mới\n    );\n    setproducts(newProducts);\n    productApi.update(updateProduct.id, updateProduct);\n    //console.log(updateProduct.id);\n  };\n\n  const onUpdateCategory = (updateCategory) => {\n    const newCategorys = categories.map(\n      (category) =>\n        category.id === updateCategory.id ? updateCategory : category // Nếu product.id bằng với id của sản phẩm vừa chỉnh sửa thì trả về mảng có object mới\n    );\n    setcategories(newCategorys);\n    cateApi.update(updateCategory.id, updateCategory);\n    //console.log(updateProduct.id);\n  };\n\n  const onHandleAddCategory = (category) => {\n    console.log(category);\n    setcategories([...categories, category]);\n    cateApi.create(category);\n    console.log(category);\n  };\n\n  const removeCategory = (id) => {\n    console.log(id);\n    const newData = categories.filter((cate) => cate.id !== id);\n    console.log(newData);\n    setcategories(newData);\n    cateApi.remove(id);\n    alert(\"Xóa danh mục thành công\");\n  };\n  // danh mục bài viết\n  const Addcatepost = (catepost) => {\n    setcateposts([...cateposts, catepost]);\n    catepostApi.create(catepost);\n  };\n\n  const removeCatepost = (id) => {\n    const newData = cateposts.filter((catepost) => catepost.id !== id);\n    setcateposts(newData);\n    catepostApi.remove(id);\n    alert(\"Xóa danh mục bài viết thành công\");\n  };\n  const onUpdateCatePost = (updateCatePost) => {\n    const newCatePost = cateposts.map(\n      (catepost) =>\n        catepost.id === updateCatePost.id ? updateCatePost : catepost // Nếu product.id bằng với id của sản phẩm vừa chỉnh sửa thì trả về mảng có object mới\n    );\n    setcateposts(newCatePost);\n    catepostApi.update(updateCatePost.id, updateCatePost);\n  };\n\n  //bai viet\n  const removePosts = (id) => {\n    console.log(id);\n    const newData = posts.filter((posts) => posts.id !== id);\n    console.log(newData);\n    setposts(newData);\n    PostsApi.remove(id);\n    alert(\"Bạn chắc chắn muốn xóa sản phẩm này\");\n  };\n  const Addposts = (post) => {\n    console.log(post);\n\n    setposts([...posts, post]);\n\n    PostsApi.create(post);\n    console.log(PostsApi);\n  };\n  const onUpdatePosts = (updatePosts) => {\n    const newPosts = posts.map(\n      (post) => (post.id === updatePosts.id ? updatePosts : post) // Nếu product.id bằng với id của sản phẩm vừa chỉnh sửa thì trả về mảng có object mới\n    );\n    setposts(newPosts);\n    PostsApi.update(updateCatePost.id, updateCatePost);\n  };\n\n  return (\n    <div className=\"admin-page\">\n      <Router>\n        <div id=\"wrapper\">\n          <Sidebar />\n          <div id=\"content-wrapper\" className=\"d-flex flex-column\">\n            <div id=\"content\">\n              <Topbar />\n              <div className=\"container-fluid\">\n                <Switch>\n                  <Route exact path=\"/admin/\">\n                    Home page\n                  </Route>\n                  <Route path=\"/admin/categories\">\n                    <Categories\n                      categories={categories}\n                      onRemove={removeCategory}\n                    />\n                  </Route>\n                  <Route path=\"/admin/products\">\n                    <Products\n                      products={products}\n                      categories={categories}\n                      onRemove={removeProduct}\n                    />\n                  </Route>\n                  <Route path=\"/admin/add-product\">\n                    <AddForm onAdd={onHandleAdd} categories={categories} />\n                  </Route>\n                  <Route path=\"/admin/add-category\">\n                    <AddCategory onAdd={onHandleAddCategory} />\n                  </Route>\n                  <Route path=\"/admin/detail-product/:id\">\n                    <DetailProduct products={products} />\n                  </Route>\n                  <Route path=\"/admin/edit-product/:id\">\n                    <EditProduct\n                      products={products}\n                      onAdd={onHandleUpdate}\n                      categories={categories}\n                    />\n                  </Route>\n                  <Route path=\"/admin/edit-category/:id\">\n                    <EditCategory\n                      categories={categories}\n                      onAdd={onUpdateCategory}\n                    />\n                  </Route>\n\n                  <Route path=\"/admin/cate-post\">\n                    <CatePost cateposts={cateposts} onRemove={removeCatepost} />\n                  </Route>\n                  <Route path=\"/admin/add-catepost\">\n                    <AddCatePost onAdd={Addcatepost} />\n                  </Route>\n                  <Route path=\"/admin/edit-catepost/:id\">\n                    <EditCatePost\n                      cateposts={cateposts}\n                      onAdd={onUpdateCatePost}\n                    />\n                  </Route>\n\n                  <Route path=\"/admin/posts\">\n                    <Posts posts={posts} onRemove={removePosts} />\n                  </Route>\n                  <Route path=\"/admin/add-posts\">\n                    <AddPosts onAdd={Addposts} cateposts={cateposts} />\n                  </Route>\n                  <Route path=\"/admin/edit-posts/:id\">\n                    <EditPosts posts={posts} onAdd={onUpdateCatePost} />\n                  </Route>\n                </Switch>\n              </div>\n            </div>\n            <Footer />\n          </div>\n        </div>\n      </Router>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}