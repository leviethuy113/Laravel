{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\react-basic-PT14311\\\\src\\\\pages\\\\layouts\\\\LayoutAdmin.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Sidebar from \"../../components/Admin/Sidebar\";\nimport Topbar from \"../../components/Admin/TopBar\";\nimport Footer from \"../../components/Admin/Footer\";\nimport Products from \"../../pages/views/Admin/Products\";\nimport Categories from \"../../pages/views/Admin/Categories\";\nimport DetailProduct from \"../../pages/views/Admin/DetailProduct\";\nimport AddForm from \"../../pages/views/Admin/AddForm\";\nimport EditProduct from \"../../pages/views/Admin/EditProduct\";\nimport \"../../assets/css/admin/sb-admin-2.min.scss\";\nimport \"../../assets/css/admin/main.scss\";\nimport axios from \"axios\";\nimport productApi from \"../../api/productApi\";\nimport cateApi from \"../../api/cateApi\";\nimport catepostApi from \"../../api/catepostApi\";\nimport { BrowserRouter as Router, Switch, Route, Link, useParams } from \"react-router-dom\";\nimport AddCategory from \"../views/Admin/AddCategory\";\nimport EditCategory from \"../views/Admin/EditCategory\";\nimport CatePost from \"../../pages/views/Admin/CatePost\";\nimport AddCatePost from \"../../pages/views/Admin/AddCatePost\"; //post\n\nimport Posts from \"../../pages/views/Admin/Posts\";\nimport PostsApi from \"../../api/PostsApi\";\nimport AddPosts from \"../../pages/views/Admin/AddPosts.js\";\nexport default (({\n  children\n}) => {\n  const [products, setproducts] = useState([]);\n  const [categories, setcategories] = useState([]);\n  const [cateposts, setcateposts] = useState([]);\n  const [posts, setposts] = useState([]);\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const {\n          data\n        } = await productApi.getAll();\n        setproducts(data);\n      } catch (error) {}\n    };\n\n    getProducts();\n  }, []);\n  useEffect(() => {\n    const getCategories = async () => {\n      try {\n        const {\n          data\n        } = await cateApi.getAll();\n        setcategories(data);\n      } catch (error) {}\n    };\n\n    getCategories();\n  }, []);\n  useEffect(() => {\n    const getCateposts = async () => {\n      try {\n        const {\n          data\n        } = await catepostApi.getAll();\n        setcateposts(data);\n      } catch (error) {}\n    };\n\n    getCateposts();\n  }, []);\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const {\n          data\n        } = await productApi.getAll();\n        setproducts(data);\n      } catch (error) {}\n    };\n\n    getProducts();\n    useEffect(() => {\n      const getProducts = async () => {\n        try {\n          const {\n            data\n          } = await productApi.getAll();\n          setproducts(data);\n        } catch (error) {}\n      };\n\n      getProducts();\n    }, []);\n  }, []);\n  console.log(products);\n\n  const removeProduct = id => {\n    console.log(id);\n    const newData = products.filter(product => product.id !== id);\n    console.log(newData);\n    setproducts(newData);\n    productApi.remove(id);\n    alert(\"Bạn chắc chắn muốn xóa sản phẩm này\");\n  };\n\n  const onHandleAdd = product => {\n    console.log(product);\n    setproducts([...products, product]);\n    productApi.create(product);\n  };\n\n  const onHandleUpdate = updateProduct => {\n    const newProducts = products.map(product => product.id === updateProduct.id ? updateProduct : product // Nếu product.id bằng với id của sản phẩm vừa chỉnh sửa thì trả về mảng có object mới\n    );\n    setproducts(newProducts);\n    productApi.update(updateProduct.id, updateProduct); //console.log(updateProduct.id);\n  };\n\n  const onUpdateCategory = updateCategory => {\n    const newCategorys = categories.map(category => category.id === updateCategory.id ? updateCategory : category // Nếu product.id bằng với id của sản phẩm vừa chỉnh sửa thì trả về mảng có object mới\n    );\n    setproducts(newCategorys);\n    cateApi.update(updateCategory.id, updateCategory); //console.log(updateProduct.id);\n  };\n\n  const onHandleAddCategory = category => {\n    console.log(category);\n    setcategories([...categories, category]);\n    cateApi.create(category);\n    console.log(category);\n  };\n\n  const removeCategory = id => {\n    console.log(id);\n    const newData = categories.filter(cate => cate.id !== id);\n    console.log(newData);\n    setcategories(newData);\n    cateApi.remove(id);\n    alert(\"Xóa danh mục thành công\");\n  }; // danh mục bài viết\n\n\n  console.log(cateposts);\n\n  const Addcatepost = catepost => {\n    setcateposts([...cateposts, catepost]);\n    catepostApi.create(catepost);\n  }; //bai viet\n\n\n  const removePosts = id => {\n    console.log(id);\n    const newData = posts.filter(posts => posts.id !== id);\n    console.log(newData);\n    setposts(newData);\n    PostsApi.remove(id);\n    alert(\"Bạn chắc chắn muốn xóa sản phẩm này\");\n  };\n\n  const Addposts = post => {\n    setposts([...posts, post]);\n    PostsApi.create(post);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"content-wrapper\",\n    className: \"d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Topbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/admin/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 19\n    }\n  }, \"Home page\"), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/categories\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Categories, {\n    categories: categories,\n    onRemove: removeCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Products, {\n    products: products,\n    categories: categories,\n    onRemove: removeProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/add-product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(AddForm, {\n    onAdd: onHandleAdd,\n    categories: categories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/add-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(AddCategory, {\n    onAdd: onHandleAddCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/detail-product/:id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(DetailProduct, {\n    products: products,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/edit-product/:id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(EditProduct, {\n    products: products,\n    onAdd: onHandleUpdate,\n    categories: categories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/edit-category/:id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(EditCategory, {\n    categories: categories,\n    onAdd: onUpdateCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/cate-post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CatePost, {\n    cateposts: cateposts,\n    onRemove: removeProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/add-catepost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(AddCatePost, {\n    onAdd: Addcatepost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/posts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Posts, {\n    posts: posts,\n    onRemove: removePosts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/add-posts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(AddPosts, {\n    onAdd: Addposts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 21\n    }\n  }))))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  })))));\n});","map":{"version":3,"sources":["C:/Users/Admin/Desktop/react-basic-PT14311/src/pages/layouts/LayoutAdmin.js"],"names":["React","useState","useEffect","Sidebar","Topbar","Footer","Products","Categories","DetailProduct","AddForm","EditProduct","axios","productApi","cateApi","catepostApi","BrowserRouter","Router","Switch","Route","Link","useParams","AddCategory","EditCategory","CatePost","AddCatePost","Posts","PostsApi","AddPosts","children","products","setproducts","categories","setcategories","cateposts","setcateposts","posts","setposts","getProducts","data","getAll","error","getCategories","getCateposts","console","log","removeProduct","id","newData","filter","product","remove","alert","onHandleAdd","create","onHandleUpdate","updateProduct","newProducts","map","update","onUpdateCategory","updateCategory","newCategorys","category","onHandleAddCategory","removeCategory","cate","Addcatepost","catepost","removePosts","Addposts","post"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Sidebar from \"../../components/Admin/Sidebar\";\nimport Topbar from \"../../components/Admin/TopBar\";\nimport Footer from \"../../components/Admin/Footer\";\nimport Products from \"../../pages/views/Admin/Products\";\nimport Categories from \"../../pages/views/Admin/Categories\";\nimport DetailProduct from \"../../pages/views/Admin/DetailProduct\";\nimport AddForm from \"../../pages/views/Admin/AddForm\";\nimport EditProduct from \"../../pages/views/Admin/EditProduct\";\nimport \"../../assets/css/admin/sb-admin-2.min.scss\";\nimport \"../../assets/css/admin/main.scss\";\nimport axios from \"axios\";\nimport productApi from \"../../api/productApi\";\nimport cateApi from \"../../api/cateApi\";\nimport catepostApi from \"../../api/catepostApi\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useParams,\n} from \"react-router-dom\";\nimport AddCategory from \"../views/Admin/AddCategory\";\nimport EditCategory from \"../views/Admin/EditCategory\";\nimport CatePost from \"../../pages/views/Admin/CatePost\";\nimport AddCatePost from \"../../pages/views/Admin/AddCatePost\";\n\n//post\nimport Posts from \"../../pages/views/Admin/Posts\";\nimport PostsApi from \"../../api/PostsApi\";\nimport AddPosts from \"../../pages/views/Admin/AddPosts.js\";\n\nexport default ({ children }) => {\n  const [products, setproducts] = useState([]);\n  const [categories, setcategories] = useState([]);\n  const [cateposts, setcateposts] = useState([]);\n  const [posts, setposts] = useState([]);\n\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const { data } = await productApi.getAll();\n        setproducts(data);\n      } catch (error) {}\n    };\n    getProducts();\n  }, []);\n\n  useEffect(() => {\n    const getCategories = async () => {\n      try {\n        const { data } = await cateApi.getAll();\n        setcategories(data);\n      } catch (error) {}\n    };\n    getCategories();\n  }, []);\n\n  useEffect(() => {\n    const getCateposts = async () => {\n      try {\n        const { data } = await catepostApi.getAll();\n        setcateposts(data);\n      } catch (error) {}\n    };\n    getCateposts();\n  }, []);\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const { data } = await productApi.getAll();\n        setproducts(data);\n      } catch (error) {}\n    };\n    getProducts();\n\n    useEffect(() => {\n      const getProducts = async () => {\n        try {\n          const { data } = await productApi.getAll();\n          setproducts(data);\n        } catch (error) {}\n      };\n      getProducts();\n    }, []);\n  }, []);\n\n  console.log(products);\n  const removeProduct = (id) => {\n    console.log(id);\n    const newData = products.filter((product) => product.id !== id);\n    console.log(newData);\n    setproducts(newData);\n    productApi.remove(id);\n    alert(\"Bạn chắc chắn muốn xóa sản phẩm này\");\n  };\n\n  const onHandleAdd = (product) => {\n    console.log(product);\n    setproducts([...products, product]);\n    productApi.create(product);\n  };\n\n  const onHandleUpdate = (updateProduct) => {\n    const newProducts = products.map(\n      (product) => (product.id === updateProduct.id ? updateProduct : product) // Nếu product.id bằng với id của sản phẩm vừa chỉnh sửa thì trả về mảng có object mới\n    );\n    setproducts(newProducts);\n    productApi.update(updateProduct.id, updateProduct);\n    //console.log(updateProduct.id);\n  };\n\n  const onUpdateCategory = (updateCategory) => {\n    const newCategorys = categories.map(\n      (category) =>\n        category.id === updateCategory.id ? updateCategory : category // Nếu product.id bằng với id của sản phẩm vừa chỉnh sửa thì trả về mảng có object mới\n    );\n    setproducts(newCategorys);\n    cateApi.update(updateCategory.id, updateCategory);\n    //console.log(updateProduct.id);\n  };\n\n  const onHandleAddCategory = (category) => {\n    console.log(category);\n    setcategories([...categories, category]);\n    cateApi.create(category);\n    console.log(category);\n  };\n\n  const removeCategory = (id) => {\n    console.log(id);\n    const newData = categories.filter((cate) => cate.id !== id);\n    console.log(newData);\n    setcategories(newData);\n    cateApi.remove(id);\n    alert(\"Xóa danh mục thành công\");\n  };\n  // danh mục bài viết\n  console.log(cateposts);\n  const Addcatepost = (catepost) => {\n    setcateposts([...cateposts, catepost]);\n    catepostApi.create(catepost);\n  };\n\n  //bai viet\n  const removePosts = (id) => {\n    console.log(id);\n    const newData = posts.filter((posts) => posts.id !== id);\n    console.log(newData);\n    setposts(newData);\n    PostsApi.remove(id);\n    alert(\"Bạn chắc chắn muốn xóa sản phẩm này\");\n  };\n\n  const Addposts = (post) => {\n    setposts([...posts, post]);\n    PostsApi.create(post);\n  };\n\n  return (\n    <div className=\"admin-page\">\n      <Router>\n        <div id=\"wrapper\">\n          <Sidebar />\n          <div id=\"content-wrapper\" className=\"d-flex flex-column\">\n            <div id=\"content\">\n              <Topbar />\n              <div className=\"container-fluid\">\n                <Switch>\n                  <Route exact path=\"/admin/\">\n                    Home page\n                  </Route>\n                  <Route path=\"/admin/categories\">\n                    <Categories\n                      categories={categories}\n                      onRemove={removeCategory}\n                    />\n                  </Route>\n                  <Route path=\"/admin/products\">\n                    <Products\n                      products={products}\n                      categories={categories}\n                      onRemove={removeProduct}\n                    />\n                  </Route>\n                  <Route path=\"/admin/add-product\">\n                    <AddForm onAdd={onHandleAdd} categories={categories} />\n                  </Route>\n                  <Route path=\"/admin/add-category\">\n                    <AddCategory onAdd={onHandleAddCategory} />\n                  </Route>\n                  <Route path=\"/admin/detail-product/:id\">\n                    <DetailProduct products={products} />\n                  </Route>\n                  <Route path=\"/admin/edit-product/:id\">\n                    <EditProduct\n                      products={products}\n                      onAdd={onHandleUpdate}\n                      categories={categories}\n                    />\n                  </Route>\n                  <Route path=\"/admin/edit-category/:id\">\n                    <EditCategory\n                      categories={categories}\n                      onAdd={onUpdateCategory}\n                    />\n                  </Route>\n\n                  <Route path=\"/admin/cate-post\">\n                    <CatePost cateposts={cateposts} onRemove={removeProduct} />\n                  </Route>\n                  <Route path=\"/admin/add-catepost\">\n                    <AddCatePost onAdd={Addcatepost} />\n                  </Route>\n\n                  <Route path=\"/admin/posts\">\n                    <Posts posts={posts} onRemove={removePosts} />\n                  </Route>\n                  <Route path=\"/admin/add-posts\">\n                    <AddPosts onAdd={Addposts} />\n                  </Route>\n                </Switch>\n              </div>\n            </div>\n            <Footer />\n          </div>\n        </div>\n      </Router>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}