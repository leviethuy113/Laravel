{"ast":null,"code":"var _jsxFileName = \"D:\\\\Learning\\\\ReactJs\\\\react-basic-PT14311\\\\src\\\\pages\\\\layouts\\\\LayoutAdmin.js\";\nimport React, { useState, useEffect } from 'react';\nimport Sidebar from '../../components/Admin/Sidebar';\nimport Topbar from '../../components/Admin/TopBar';\nimport Footer from '../../components/Admin/Footer';\nimport Products from '../../pages/views/Admin/Products';\nimport Categories from '../../pages/views/Admin/Categories';\nimport DetailProduct from '../../pages/views/Admin/DetailProduct';\nimport AddForm from '../../pages/views/Admin/AddForm';\nimport EditProduct from '../../pages/views/Admin/EditProduct';\nimport dataFake from '../../dataFake';\nimport '../../assets/css/admin/sb-admin-2.min.scss';\nimport '../../assets/css/admin/main.scss';\nimport axios from 'axios';\nimport productApi from '../../api/productApi';\nimport cateApi from '../../api/cateApi';\nimport { BrowserRouter as Router, Switch, Route, Link, useParams } from \"react-router-dom\";\nimport AddCategory from '../views/Admin/AddCategory';\nexport default (({\n  children\n}) => {\n  const [products, setproducts] = useState([]);\n  const [categories, setcategories] = useState([]);\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const {\n          data\n        } = await productApi.getAll();\n        setproducts(data);\n      } catch (error) {}\n    };\n\n    getProducts();\n  }, []);\n  useEffect(() => {\n    const getCategories = async () => {\n      try {\n        const {\n          data\n        } = await cateApi.getAll();\n        setcategories(data);\n      } catch (error) {}\n    };\n\n    getCategories();\n  }, []);\n  console.log(products);\n\n  const removeElement = id => {\n    console.log(id);\n    const newData = products.filter(product => product.id !== id);\n    console.log(newData);\n    setproducts(newData);\n    productApi.remove(id);\n  };\n\n  const onHandleAdd = product => {\n    console.log(product);\n    setproducts([...products, product]);\n    productApi.create(product);\n    localStorage.setItem('products', JSON.stringify(products));\n  };\n\n  const onHandleUpdate = updateProduct => {\n    const newProducts = products.map(product => product.id === updateProduct.id ? updateProduct : product // Nếu product.id bằng với id của sản phẩm vừa chỉnh sửa thì trả về mảng có object mới\n    );\n    localStorage.setItem('products', JSON.stringify(newProducts));\n    setproducts(newProducts);\n    productApi.update(updateProduct.id, updateProduct); //console.log(updateProduct.id);\n  };\n\n  const onHandleAddCategory = category => {\n    console.log(category);\n    setproducts([...categories, category]);\n    localStorage.setItem('categories', JSON.stringify(categories));\n    cateApi.create(category);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"content-wrapper\",\n    className: \"d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Topbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/admin/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 37\n    }\n  }, \"Home page\"), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/categories\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Categories, {\n    categories: categories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Products, {\n    products: products,\n    onRemove: removeElement,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/add-product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(AddForm, {\n    onAdd: onHandleAdd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/add-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(AddCategory, {\n    onAddCategory: onHandleAddCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/detail-product/:id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(DetailProduct, {\n    products: products,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/admin/edit-product/:id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(EditProduct, {\n    products: products,\n    onUpdate: onHandleUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 41\n    }\n  }))))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  })))));\n});","map":{"version":3,"sources":["D:/Learning/ReactJs/react-basic-PT14311/src/pages/layouts/LayoutAdmin.js"],"names":["React","useState","useEffect","Sidebar","Topbar","Footer","Products","Categories","DetailProduct","AddForm","EditProduct","dataFake","axios","productApi","cateApi","BrowserRouter","Router","Switch","Route","Link","useParams","AddCategory","children","products","setproducts","categories","setcategories","getProducts","data","getAll","error","getCategories","console","log","removeElement","id","newData","filter","product","remove","onHandleAdd","create","localStorage","setItem","JSON","stringify","onHandleUpdate","updateProduct","newProducts","map","update","onHandleAddCategory","category"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Sidebar from '../../components/Admin/Sidebar'\nimport Topbar from '../../components/Admin/TopBar'\nimport Footer from '../../components/Admin/Footer'\nimport Products from '../../pages/views/Admin/Products'\nimport Categories from '../../pages/views/Admin/Categories'\nimport DetailProduct from '../../pages/views/Admin/DetailProduct'\nimport AddForm from '../../pages/views/Admin/AddForm'\nimport EditProduct from '../../pages/views/Admin/EditProduct'\nimport dataFake from '../../dataFake';\nimport '../../assets/css/admin/sb-admin-2.min.scss'\nimport '../../assets/css/admin/main.scss'\nimport axios from 'axios';\nimport productApi from '../../api/productApi'\nimport cateApi from '../../api/cateApi'\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    useParams\n} from \"react-router-dom\";\nimport AddCategory from '../views/Admin/AddCategory'\n\nexport default ({ children }) => {\n    const [products, setproducts] = useState([]);\n    const [categories, setcategories] = useState([]);\n\n    useEffect(() => {\n        const getProducts = async () => {\n            try {\n                const { data } = await productApi.getAll();\n                setproducts(data);\n            } catch (error) {\n\n            }\n        }\n        getProducts()\n    }, []);\n\n    useEffect(() => {\n        const getCategories = async () => {\n            try {\n                const { data } = await cateApi.getAll();\n                setcategories(data);\n            } catch (error) {\n\n            }\n        }\n        getCategories()\n    }, []);\n\n    console.log(products);\n    const removeElement = (id) => {\n        console.log(id);\n        const newData = products.filter(product => product.id !== id);\n        console.log(newData);\n        setproducts(newData);\n        productApi.remove(id);\n    }\n\n    const onHandleAdd = (product) => {\n        console.log(product);\n        setproducts([\n            ...products,\n            product\n        ])\n        productApi.create(product);\n        localStorage.setItem('products', JSON.stringify(products));\n    }\n\n    const onHandleUpdate = (updateProduct) => {\n        const newProducts = products.map(product => (\n            product.id === updateProduct.id ? updateProduct : product  // Nếu product.id bằng với id của sản phẩm vừa chỉnh sửa thì trả về mảng có object mới\n        ));\n        localStorage.setItem('products', JSON.stringify(newProducts))\n        setproducts(newProducts);\n        productApi.update(updateProduct.id, updateProduct)\n        //console.log(updateProduct.id);\n    }\n\n    const onHandleAddCategory = (category) => {\n        console.log(category);\n        setproducts([\n            ...categories,\n            category\n        ])\n        localStorage.setItem('categories', JSON.stringify(categories));\n        cateApi.create(category);\n\n    }\n    return (\n        <div className=\"admin-page\">\n            <Router>\n                <div id=\"wrapper\">\n                    <Sidebar />\n                    <div id=\"content-wrapper\" className=\"d-flex flex-column\">\n                        <div id=\"content\">\n                            <Topbar />\n                            <div className=\"container-fluid\">\n                                <Switch>\n                                    <Route exact path=\"/admin/\">\n                                        Home page\n                                </Route>\n                                    <Route path=\"/admin/categories\">\n                                        <Categories categories={categories} />\n                                    </Route>\n                                    <Route path=\"/admin/products\">\n                                        <Products products={products} onRemove={removeElement} />\n                                    </Route>\n                                    <Route path=\"/admin/add-product\">\n                                        <AddForm onAdd={onHandleAdd} />\n                                    </Route>\n                                    <Route path=\"/admin/add-category\">\n                                        <AddCategory onAddCategory={onHandleAddCategory} />\n                                    </Route>\n                                    <Route path=\"/admin/detail-product/:id\">\n                                        <DetailProduct products={products} />\n                                    </Route>\n                                    <Route path=\"/admin/edit-product/:id\">\n                                        <EditProduct products={products} onUpdate={onHandleUpdate} />\n                                    </Route>\n                                </Switch>\n                            </div>\n                        </div>\n                        <Footer />\n                    </div>\n                </div>\n            </Router>\n        </div>\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}